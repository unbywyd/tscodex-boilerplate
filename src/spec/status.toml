# Project Status
# ================================================
# LLM: READ THIS FILE FIRST!
#
# Step 1: Check state
#   - If currentPhase = "assessment" and all phases "pending" → FRESH PROJECT
#   - If some phases "completed" → CONTINUE from currentPhase
#
# Step 2: Read interview.toml
#   - Find section matching currentPhase
#   - Ask questions where value = "" or [] (empty)
#   - Write answers immediately (use arrays for lists)
#
# Step 3: After completing phase
#   1. Set phase status = "completed"
#   2. Set currentPhase = next phase
#   3. Mark checklist items = true
#   4. Update lastUpdated date
#
# See: rules/challenge.md for full workflow
# See: src/spec/interview.toml for questions/answers
# ================================================

[status]
id = "status"
name = "Project Status"
profile = "medium"  # simple | medium | complex
currentPhase = "assessment"
multiPlatform = false  # true if 2+ platforms (customer-app, admin-panel, etc.)
lastUpdated = "2024-01-01"

# Phase 0: Assessment
[phases.assessment]
status = "pending"  # pending | in_progress | completed
description = "Determine project scope and profile"

[phases.assessment.checklist]
typeIdentified = false
rolesCount = false
dataComplexity = false
platformsIdentified = false
profileSelected = false

# Phase 1: Discovery
[phases.discovery]
status = "pending"
description = "Understanding the project"

[phases.discovery.checklist]
projectDefined = false
targetAudience = false
coreValue = false
keyFeatures = false
scopeDefined = false  # inScope + outOfScope

# Phase 2: Design (optional for simple)
[phases.design]
status = "pending"
skip = false  # set true for simple projects
description = "Visual and UX requirements"

[phases.design.checklist]
designApproach = false
colorScheme = false
responsiveStrategy = false
localization = false  # languages + rtl

# Phase 3: Access Control (skip if single role)
[phases.access]
status = "pending"
skip = false  # set true if single role
description = "User roles and permissions"

[phases.access.checklist]
authModelDefined = false
rolesIdentified = false
permissionsDefined = false
guardsCreated = false

# Phase 4: Data Model
[phases.data]
status = "pending"
description = "Entities and relationships"

[phases.data.checklist]
entitiesListed = false
fieldsDefined = false
relationsMapped = false

# Phase 5: Features & Screens
[phases.features]
status = "pending"
description = "Use cases, routes, components"

[phases.features.checklist]
useCasesDefined = false
routesCreated = false
pageComponents = false
compositions = false
platformsDefined = false  # if multiPlatform = true

# Phase 6: Modules (complex only)
[phases.modules]
status = "pending"
skip = true  # only for complex profile
description = "Domain decomposition"

[phases.modules.checklist]
domainsIdentified = false
modulesDefined = false
interfacesSet = false

# Phase 7: Schema (comes BEFORE prototype - schema-first approach)
[phases.schema]
status = "pending"
skip = false  # skip for simple if no backend
description = "Database schema - defines data contracts before UI"

[phases.schema.checklist]
prismaGenerated = false
relationsValid = false
indexesAdded = false

# Phase 8: Prototype (comes AFTER schema)
# THREE PARALLEL STREAMS: 1) TOML specs, 2) Doc wrappers, 3) Events
[phases.prototype]
status = "pending"
description = "Working React screens with TOML specs, Doc wrappers, and events"

[phases.prototype.checklist]
demoCleanedUp = false      # delete example/demo files before generating
tomlSpecsCreated = false   # all components have src/spec/layers/components/*.toml
docWrappersAdded = false   # all components wrapped in <Doc of="...">
eventsDispatched = false   # all actions have dispatchEvent()
mocksGenerated = false
pagesCreated = false
navigationWorks = false
formsWired = false
